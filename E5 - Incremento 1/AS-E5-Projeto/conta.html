<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Minha Conta - MultiPower</title>
    <link rel="stylesheet" href="assets/css/conta.css">
    <script src="assets/js/conta.js" defer></script>
</head>
<body>

    <div class="profile-header">
        <div class="profile-avatar-wrapper">
            <img src="assets/images/conta.png" alt="Perfil" class="profile-image">
        </div>
        <h1 class="profile-name">Carregando...</h1>
        <div class="profile-email">...</div>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-value" id="co2-val">0</span>
            <span class="stat-label">kg COâ‚‚ Poupado</span>
        </div>
        <div class="stat-card">
            <span class="stat-value" id="points-val">0</span>
            <span class="stat-label">Pontos Power</span>
        </div>
    </div>

    <div class="section-header">
        <span class="section-title">Minha Garagem</span>
        <button onclick="openAddCar()" class="btn-mini-add">+ Adicionar</button>
    </div>
    
    <div id="garage-list">
        <p style="text-align:center; color:#666; margin-top:20px;">A carregar garagem...</p>
    </div>

    <div class="section-header">
        <span class="section-title">DefiniÃ§Ãµes</span>
    </div>
    <div class="menu-list">
        <div class="menu-item" onclick="openTransactions()">
            <span class="menu-icon">âš¡</span>
            <span>HistÃ³rico de Carregamentos</span>
            <span class="menu-arrow">â€º</span>
        </div>
        <div class="menu-item" onclick="openEditProfile()">
            <span class="menu-icon">ðŸ‘¤</span>
            <span>Dados Pessoais</span>
            <span class="menu-arrow">â€º</span>
        </div>
        <div class="menu-item" style="color: #e74c3c;">
            <span class="menu-icon">ðŸšª</span>
            <span>Terminar SessÃ£o</span>
        </div>
    </div>

    <div id="overlay" class="overlay" onclick="closeAllSheets()"></div>

    <div id="sheet-add-car" class="bottom-sheet">
        <div class="sheet-handle"></div>
        <h2>Nova Viatura</h2>
        <form id="add-car-form">
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex:1;">
                    <label class="form-label">Marca</label>
                    <input type="text" name="marca" placeholder="Ex: Tesla" required>
                </div>
                <div class="form-group" style="flex:1;">
                    <label class="form-label">Modelo</label>
                    <input type="text" name="modelo" placeholder="Model 3" required>
                </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex:1;">
                    <label class="form-label">Ano</label>
                    <input type="number" name="ano" placeholder="2023" required>
                </div>
                <div class="form-group" style="flex:1;">
                    <label class="form-label">MatrÃ­cula</label>
                    <input type="text" name="matricula" placeholder="AA-00-AA" required>
                </div>
            </div>

            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex:1;">
                    <label class="form-label">Bateria (kWh)</label>
                    <input type="number" name="battery_size" value="50" required>
                </div>
                <div class="form-group" style="flex:1;">
                    <label class="form-label">Tipo Ficha</label>
                    <select name="connection_type">
                        <option value="33">CCS 2 (RÃ¡pido)</option>
                        <option value="25">Type 2 (Lento)</option>
                        <option value="2">CHAdeMO</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Cor</label>
                <input type="text" name="cor" placeholder="Ex: Branco">
            </div>

            <button type="submit" class="btn-primary">Guardar na Garagem</button>
        </form>
    </div>

    <div id="sheet-transactions" class="bottom-sheet">
        <div class="sheet-handle"></div>
        <h2>HistÃ³rico</h2>
        <div id="reservations-container">
            </div>
    </div>

    <div id="sheet-profile" class="bottom-sheet">
        <div class="sheet-handle"></div>
        <h2>Editar Perfil</h2>
        <form id="edit-profile-form">
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" name="email" id="edit-email">
            </div>
            <div class="form-group">
                <label class="form-label">Telefone</label>
                <input type="tel" name="telefone" id="edit-phone">
            </div>
            <div class="form-group">
                <label class="form-label">Morada</label>
                <input type="text" name="morada" id="edit-address">
            </div>
            <button type="submit" class="btn-primary">Atualizar Dados</button>
        </form>
    </div>

    <div class="navbar">
        <div class="navigation">
            <a class="button" href="index.html">
                <img src="assets/images/map.png" alt="Mapa">
                <div class="nav1">MAPA</div>
            </a>
        </div>
        <div class="navigation">
            <a class="button" href="wallet.html">
                <img src="assets/images/wallet.png" alt="Carteira">
                <div class="nav1">WALLET</div>
            </a>
        </div>
        <div class="navigation">
            <a class="button" href="chat.html">
                <img src="assets/images/elon.png" alt="Chat">
                <div class="nav1">CHAT</div>
            </a>
        </div>
        <div class="navigation">
            <a class="button" href="conta.html" style="color: #4bc0c0;">
                <img src="assets/images/conta.png" alt="Conta" style="filter: invert(0.8) sepia(1) saturate(3) hue-rotate(120deg);">
                <div class="nav1">CONTA</div>
            </a>
        </div>
    </div>

</body>
</html>