<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>MultiPower</title>
  
  <link rel="stylesheet" href="assets/css/index.css" />
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script src="assets/js/index.js" defer></script>
</head>
<body>

  <div class="main-content">
    <div class="map-card">
      <div class="top-bar">
        <img src="assets/images/car_electric.png" alt="Carro">
        <select id="car-select"><option>Carregando...</option></select>
        <img src="assets/images/wallet.png" alt="Carteira" style="margin-left: 10px;">
        <span id="saldo-display" class="saldo-text">--‚Ç¨</span>
      </div>
      <div id="map"></div>
    </div>
  </div>

  <div id="payment-overlay" class="payment-overlay">
      <div class="payment-card">
          <div class="payment-header">
              <div>
                  <h2 id="pay-station-name">Esta√ß√£o</h2>
                  <span id="pay-address" style="font-size:0.8em; color:#888;">...</span>
              </div>
              <button onclick="fecharPagamento()" class="close-btn">‚úï</button>
          </div>

          <div class="chart-container">
              <canvas id="energyChart"></canvas>
          </div>
          <p style="text-align:center; font-size:0.7em; color:#666;">Pre√ßo da energia (24h)</p>

          <div class="details-grid">
              <div class="detail-box"><span class="detail-label">Chegada</span><span class="detail-val" id="pay-time">--</span></div>
              <div class="detail-box"><span class="detail-label">Carga</span><span class="detail-val" id="pay-energy">--</span></div>
              <div class="detail-box"><span class="detail-label">Tarifa</span><span class="detail-val" id="pay-kwh-price">--</span></div>
          </div>

          <div class="payment-methods">
              <div class="pm-option active" onclick="selectPayment(this, 'app')"><span>üí∞</span> Saldo</div>
              <div class="pm-option" onclick="selectPayment(this, 'mbway')"><span>üì±</span> MB WAY</div>
              <div class="pm-option" onclick="selectPayment(this, 'paypal')"><span>üÖøÔ∏è</span> PayPal</div>
              <div class="pm-option" onclick="selectPayment(this, 'apple')"><span>Ô£ø</span> Apple Pay</div>
          </div>

          <div class="action-area">
              <div><span style="font-size:0.8em; color:#aaa;">Total</span><br><span id="pay-total" class="final-price">0.00‚Ç¨</span></div>
              <button id="confirm-pay-btn" onclick="confirmarTransacao()" class="btn-confirm">RESERVAR ‚ûî</button>
          </div>
      </div>
  </div>

  <div class="navbar">
    <div class="navigation"><a class="button" href="index.html" style="color:#4bc0c0;"><img src="assets/images/map.png"><div class="nav1">MAPA</div></a></div>
    <div class="navigation"><a class="button" href="wallet.html"><img src="assets/images/wallet.png"><div class="nav1">WALLET</div></a></div>
    <div class="navigation"><a class="button" href="chat.html"><img src="assets/images/elon.png"><div class="nav1">CHAT</div></a></div>
    <div class="navigation"><a class="button" href="conta.html"><img src="assets/images/conta.png"><div class="nav1">CONTA</div></a></div>
  </div>

</body>
</html>